# Настройка Railway для VideoBot

## 1. Создание проекта на Railway

1. **Зайдите на [railway.app](https://railway.app)**
2. **Войдите через GitHub**
3. **Нажмите "New Project"**
4. **Выберите "Deploy from GitHub repo"**
5. **Выберите ваш репозиторий `videobot-app`**

## 2. Настройка переменных окружения

В Railway Dashboard:

1. **Перейдите в Settings → Variables**
2. **Добавьте переменные:**

```env
TELEGRAM_BOT_TOKEN=ваш_токен_бота
TELEGRAM_CHAT_ID=ваш_chat_id
PORT=8000
```

## 3. Настройка сервисов

Railway должен автоматически создать два сервиса:

### Веб-приложение (web)
- **Команда:** `uvicorn main:app --host 0.0.0.0 --port $PORT`
- **Порт:** Автоматически назначается Railway
- **Домен:** Генерируется автоматически

### Telegram бот (bot)
- **Команда:** `python start_bot.py`
- **Тип:** Background service

## 4. Проверка работы

### Веб-приложение:
1. **Найдите домен** в Railway Dashboard
2. **Откройте в браузере** (например: `https://your-app.railway.app`)
3. **Проверьте загрузку** страницы

### Telegram бот:
1. **Найдите бота** в Telegram
2. **Отправьте `/start`**
3. **Проверьте ответ** бота

## 5. Мониторинг

### Логи:
- **В Railway Dashboard** → **Deployments** → **View Logs**
- **Проверьте логи** обоих сервисов

### Статус:
- **Web service** должен быть "Running"
- **Bot service** должен быть "Running"

## 6. Возможные проблемы

### Бот не отвечает:
1. **Проверьте токен** в переменных окружения
2. **Проверьте логи** бота в Railway
3. **Убедитесь**, что бот запущен

### Веб-приложение не работает:
1. **Проверьте домен** в Railway
2. **Проверьте логи** веб-сервиса
3. **Убедитесь**, что порт настроен правильно

### FFmpeg ошибки:
1. **Проверьте Dockerfile** - FFmpeg должен быть установлен
2. **Проверьте логи** на ошибки FFmpeg

## 7. Обновление

При пуше в GitHub:
1. **Railway автоматически** пересоберет проект
2. **Проверьте статус** деплоя в Dashboard
3. **Дождитесь завершения** деплоя
4. **Протестируйте** оба сервиса
